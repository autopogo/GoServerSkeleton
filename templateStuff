
    "html/template" // TODO i don't want this here

    "reflect" // TODO what is this do we need it


    version string // TODO this doesn't belong
    tmpl *template.Template // TODO this doesn't belong

func (aC *authContext) Init() { // kill this

    tmpl = template.Must(template.New("main").Funcs(template.FuncMap{
            "len": func(l interface{}) int {
                v := reflect.ValueOf(l)
                switch v.Kind() {
                    case reflect.Array, reflect.Slice, reflect.Map:
                        return v.Len()
                    default:
                        return 0
                }
            },
        }).ParseGlob(template_dir))
}
